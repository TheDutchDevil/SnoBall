<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Details {{ paper.title }}</title>

    <script src="static/libs/jquery-3.2.1.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"
            integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"
            integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1"
            crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"
          integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">

    <link rel="stylesheet" type="text/css" href="../static/main.css">
</head>
<body>
<div class="container">

    <div class="col-md-12" id="paper-info-field" style="margin-bottom: 20px;">
        <div class="row">
            <h2>{{ paper.title }}, {{ paper.year }}</h2>
        </div>
        <div class="row" id="authors">
            {% for author in paper.authors %}
                <a href="../author/details?id={{ author.id }}" style="padding-right: 5px;" class="author-link">
                    {{ author.name }}{{ "," if not loop.last }}</a>
            {% endfor %}
        </div>
        <div class="row" id="topics">

        </div>
    </div>

    <div class="col-md-7" id="abstract">
        {% if paper.hasAbstract or paper.hasExtractedAbstract %}
            <div class="row">
                <h3>{% if  not paper.hasAbstract and paper.hasExtractedAbstract %} Extracted {% endif %}Abstract</h3>
            </div>
        {% endif %}
        <div class="row">
            {% if paper.hasAbstract %}
                {{ paper.abstract }}
            {% elif paper.hasExtractedAbstract %}
                {{ paper.gen_abstract }}
            {% endif %}
        </div>
        <div class="row" style="margin-top: 10px;">
            <button type="button" class="btn btn-primary col-md-offset-2 col-md-4" data-toggle="modal"
                    data-target="#paper-text-modal">View paper text
            </button>
        </div>
    </div>

    <div class="col-md-7" style="margin-top: 20px;">
        <div class="row">
            <h4>References</h4>
        </div>
        <div class="row" id="references">
            <ul class="list-group">
                {% for ref in paper.references %}
                    <li class="list-group-item"><a href="details?id={{ ref.id }}">{{ ref.title }}</a> [{{ ref.year }}]
                    </li>
                {% endfor %}
            </ul>
        </div>
        <div class="row">
            <h4>Referenced by</h4>
        </div>
        <div class="row" id="referenced-by">
            <ul class="list-group">
                {% for ref in paper.referencedby %}
                    <li class="list-group-item"><a href="details?id={{ ref.id }}">{{ ref.title }}</a> [{{ ref.year }}]
                    </li>
                {% endfor %}
            </ul>
        </div>
    </div>
    <footer class="footer">
        <p>&copy; Groep-6</p>
    </footer>

</div>

<!-- Modal -->
<div class="modal fade" id="paper-text-modal" tabindex="-1" role="dialog" aria-labelledby="paper-text-modal-title">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title col-md-10" id="paper-text-model-title">{{ paper.title }}</h4>
                <button type="button" class="close col-md-1 col-md-offset-1" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
                {% autoescape false %}
                {{ paper.paper_text }}
                {% endautoescape %}
            </div>
        </div>
    </div>
</div>

</body>
</html>